<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Excellence Abidjan</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header class="topbar">
  <div class="title">Excellence Abidjan</div>
  <div class="controls">
    <select id="langSelect" title="Language">
      <option value="fr">FR</option>
      <option value="en">EN</option>
      <option value="ar">AR</option>
    </select>
  </div>
</header>

<nav class="tabs" role="navigation">
  <button class="tab-btn active" data-tab="tab-products" id="btn-products">Produits</button>
  <button class="tab-btn" data-tab="tab-stock" id="btn-stock">Stock & Ventes</button>
  <button class="tab-btn" data-tab="tab-clients" id="btn-clients">Clients</button>
  <button class="tab-btn" data-tab="tab-export" id="btn-export">Export / Paramètres</button>
</nav>

<main class="tab-content">
  <!-- PRODUCTS TAB -->
  <section class="tab active" id="tab-products" aria-labelledby="btn-products">
    <div class="card">
      <h3 id="lbl-add-product">Ajouter un produit</h3>
      <form id="productForm" class="form-grid">
        <input id="prodName" placeholder="Nom du produit" required />
        <input id="prodCategory" placeholder="Catégorie" />
        <input id="prodSupplier" placeholder="Fournisseur" />
        <input id="prodPrice" type="number" placeholder="Prix vente (CFA)" required />
        <input id="prodCost" type="number" placeholder="Prix de revient (CFA)" required />
        <input id="prodStock" type="number" placeholder="Stock initial" required />
        <input id="prodDiscount" type="number" placeholder="Ristourne (%)" />
        <input id="prodImageFile" type="file" accept="image/*" capture="environment" />
        <div class="small-note">Ou choisissez une image / utilisez la caméra mobile</div>
        <div class="form-actions">
          <button id="saveProductBtn" type="submit">Ajouter</button>
          <button id="resetProductBtn" type="button" class="ghost">Annuler</button>
        </div>
      </form>
    </div>

    <div class="card">
      <div class="toolbar">
        <input id="searchBox" placeholder="Recherche (nom, fournisseur, catégorie)" />
        <select id="filterCategory"><option value="">Toutes catégories</option></select>
        <input id="minPrice" type="number" placeholder="Min prix" />
        <input id="maxPrice" type="number" placeholder="Max prix" />
        <button id="clearFilters" class="ghost">Réinitialiser</button>
      </div>

      <div class="table-wrap" id="productsArea">
        <table id="productsTable" class="striped">
          <thead>
            <tr>
              <th>Img</th><th>Nom</th><th>Categorie</th><th>Fournisseur</th><th>Prix</th><th>Coût</th><th>Stock</th><th>Rist.</th><th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- STOCK & SALES TAB -->
  <section class="tab" id="tab-stock" aria-labelledby="btn-stock">
    <div class="card" id="dashboardCard">
      <h3>Tableau de bord</h3>
      <div class="dash-grid">
        <div class="dash-item">Total ventes: <span id="dashTotalSales">0 CFA</span></div>
        <div class="dash-item">Valeur stock: <span id="dashStockValue">0 CFA</span></div>
        <div class="dash-item">Top Ventes: <span id="dashTop">-</span></div>
        <div class="dash-item">Alertes stock: <span id="dashLow">-</span></div>
      </div>
    </div>

    <div class="card">
      <h3>Gestion stock & vente</h3>
      <div class="form-grid">
        <select id="moveProductSelect"></select>
        <input id="moveQty" type="number" placeholder="Quantité" />
        <input id="moveType" type="text" placeholder="Type (Entrée/Vente)" list="movetypes" />
        <datalist id="movetypes"><option>Entrée</option><option>Vente</option></datalist>
        <input id="movePrice" type="number" placeholder="Prix vendu (optionnel)" />
        <select id="moveClientSelect"><option value="">Client (optionnel)</option></select>
        <div class="form-actions">
          <button id="doStockAdd">Enregistrer</button>
          <button id="doStockSale" class="danger">Vendre</button>
        </div>
      </div>
      <div class="note">Utilisez "Entrée" pour ajouter stock, "Vente" pour retirer stock — pour vente, saisissez le prix (ou prix produit).</div>
    </div>

    <div class="card">
      <h3>Ventes & entrées par date</h3>
      <div class="toolbar">
        <input id="salesDateFilter" type="date" />
        <button id="applyDateFilter">Afficher</button>
        <button id="printReport" class="ghost">Imprimer le rapport</button>
      </div>
      <div class="table-wrap">
        <table id="salesTable" class="striped">
          <thead><tr><th>Date</th><th>Produit</th><th>Type</th><th>Qty</th><th>Prix U.</th><th>Total</th><th>Client</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="stats-line">Total sélection: <strong id="reportTotal">0 CFA</strong></div>
    </div>
  </section>

  <!-- CLIENTS TAB -->
  <section class="tab" id="tab-clients" aria-labelledby="btn-clients">
    <div class="card">
      <h3>Clients & comptes</h3>
      <form id="clientForm" class="form-grid">
        <input id="clientName" placeholder="Nom client" required />
        <input id="clientPhone" placeholder="Téléphone" />
        <input id="clientEmail" placeholder="Email" />
        <input id="clientNote" placeholder="Note (adresse, info)" />
        <div class="form-actions">
          <button id="saveClientBtn" type="submit">Ajouter client</button>
          <button id="resetClientBtn" type="button" class="ghost">Réinitialiser</button>
        </div>
      </form>
    </div>

    <div class="card">
      <h3>Clients et créances</h3>
      <div class="toolbar">
        <input id="clientSearch" placeholder="Rechercher client..." />
      </div>
      <div class="table-wrap">
        <table id="clientsTable" class="striped">
          <thead><tr><th>Nom</th><th>Téléphone</th><th>Email</th><th>Crédit dû</th><th>Actions</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <div class="card">
      <h3>Ventes à crédit (non payées)</h3>
      <div class="table-wrap">
        <table id="unpaidTable" class="striped">
          <thead><tr><th>Date</th><th>Client</th><th>Produit</th><th>Qty</th><th>Prix</th><th>Total</th><th>Action</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- EXPORT & SETTINGS TAB -->
  <section class="tab" id="tab-export" aria-labelledby="btn-export">
    <div class="card">
      <h3>Export / Import</h3>
      <div class="form-grid">
        <button id="exportProductsCSV">Exporter Produits CSV</button>
        <button id="exportLogCSV">Exporter Mouvements CSV</button>
        <button id="exportExcel">Exporter Excel</button>
        <input id="importProductsFile" type="file" accept=".csv" />
        <button id="importProductsBtn">Importer Produits CSV</button>
      </div>
      <div class="note">CSV format for products: name,category,supplier,price,cost,stock,discount</div>
    </div>

    <div class="card">
      <h3>Partage Rapide</h3>
      <div class="form-grid">
        <button id="shareProductsBtn">Partager produits (WhatsApp)</button>
        <button id="shareReportBtn">Partager rapport du jour</button>
      </div>
    </div>
  </section>
</main>

<button class="fab" id="fab">+</button>

<script src="script.js"></script>
</body>
</html>
